/* Updated 2023-04-29 16:24:51 */
function detectAdblock(){const e={url:"https://example.org/data/yzfdmoan.js",id:"837jlaBksSjd9jh"},t={url:"https://example.org/data/utep_ad.js",id:"hfuBadsf3hFAk"};function i(e){return new Promise(function(t,i){var n=document.createElement("script");n.onload=function(){document.getElementById(e.id)?t(!1):t(!0)},n.onerror=function(){t(!0)},n.src=e.url,document.body.appendChild(n)})}return new Promise(function(n,a){var o=[i(e),i(t)];Promise.all(o).then(e=>{n({uBlockOrigin:e[0],adblockPlus:e[1],usingAdblock:!0===e[0]||!0===e[1]})}).catch(e=>{a(e)})})}"use strict";var regex={classic:/[^A-Za-z0-9\u00C0-\u017F '-]/,search:/[^A-Za-z0-9\u00C0-\u017F\u0025 '-]/,max3letters:/[*]|(.)(?=\1\1\1)/gi,strict:/[^A-Za-z0-9 '-]/,custom:/[^A-Za-z0-9àâçèéêîôùûÀÂÇÈÉÊÎÔÙÛ '-]/,email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/};function nada(){return!1}function pageScroll(e){e=e||0,"scrollBehavior"in document.documentElement.style?window.scrollTo({top:e,behavior:"smooth"}):window.scroll(0,e)}function getLangPath(){return void 0!=document.documentElement.lang&&"en"!=document.documentElement.lang?document.documentElement.lang+"/":""}function getLastPartURL(){var e=window.location.href;return e.substr(e.lastIndexOf("/")+1)}function getPageName(){var e=window.location.pathname.split("/"),t=""==e[e.length-1]?e[e.length-2]:e[e.length-1];return t=(t=t.replace(".php","")).replace(".html","")}function getScreenAspectRatio(){var e,t,i,n;return["16:9","8:5","5:4","4:3"][(e=screen.width/screen.height,t=[16/9,1.6,5/4,4/3],i=t.map(function(t){return Math.abs(t-e)}),n=Math.min.apply(Math,i),i.indexOf(n))]}function getRandomItem(e){return e[Math.floor(Math.random()*e.length)]}function windowPopup(e,t,i,n){var a=n?screen.height/2-i/2:0,o=n?screen.width/2-t/2:0;window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+t+",height="+i+",top="+a+",left="+o)}function openURL(e,t){t=t||"_blank",window.open(e,t)}function copyToClipboard(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",visibility:"hidden",pointerEvents:"none"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function getNow(e){var t=new Date,i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),o=t.getHours(),s=t.getMinutes(),l=t.getSeconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,e?{year:i,month:n,day:a,hour:o,minute:s,second:l}:i+"-"+n+"-"+a+" "+o+":"+s+":"+l}function getTimeAgo(e,t){e=-1==e.indexOf("/")?e.split("-").join("/"):e,t=-1==t.indexOf("/")?t.split("-").join("/"):t;var i=new Date(e),n=timeConversion(new Date(t).getTime()-i.getTime());return!1===n?getStringDate(e):n}function getStringDate(e,t){e=-1==e.indexOf("/")?e.split("-").join("/"):e;var i=new Date(e);if(t){var n=i.getHours(),a=i.getMinutes(),o=i.getSeconds();return n=n<10?n=String("0"+n):String(n),a=a<10?a=String("0"+a):String(a),o=o<10?o=String("0"+o):String(o),String(n+":"+a+":"+o)}var s=i.getDate(),l=i.getMonth(),r=i.getFullYear(),c=void 0!=i18n.arrMonth?i18n.arrMonth:["Jan.","Feb.","Mar","Apr.","May","June","July.","Aug","Sept.","Oct.","Nov.","Dec."];if(i18n.arrMonth)return s+" "+c[l]+" "+r}function timeConversion(e){var t=(e/1e3).toFixed(1),i=(e/6e4).toFixed(1),n=(e/36e5).toFixed(1),a=(e/864e5).toFixed(1),o="";if(void 0==i18n.tSec&&(i18n={ago:"%{date_time} ago",tSec:{one:"second",other:"seconds"},tMin:{one:"minute",other:"minutes"},tHou:{one:"hour",other:"hours"},tDay:{one:"day",other:"days"}}),t<60){var s=Math.round(t);o=s.toString()+" "+(s<2&&void 0!=i18n.tSec.one?i18n.tSec.one:i18n.tSec.other)}else if(i<60){var l=Math.round(i);o=l.toString()+" "+(l<2&&void 0!=i18n.tMin.one?i18n.tMin.one:i18n.tMin.other)}else if(n<23){var r=Math.round(n);o=r.toString()+" "+(r<2&&void 0!=i18n.tHou.one?i18n.tHou.one:i18n.tHou.other)}else{if(!(a<10))return!1;var c=Math.round(a);o=c.toString()+" "+(c<2&&void 0!=i18n.tDay.one?i18n.tDay.one:i18n.tDay.other)}return i18n.ago.replace("%{date_time}",o)}function moreThanTime(e,t,i){if(isnull(i))return!t||e;var n=60*e,a=new Date,o=i.getTime()-a.getTime(),s=Math.round(Math.abs(o/1e3));secToText(1e3*(n-s));return!0===t?secToText(1e3*(n-s)):s>=n}function secToText(e){parseInt(e%1e3/100);var t=parseInt(e/1e3%60),i=parseInt(e/6e4%60),n=parseInt(e/36e5%24);return n=n<10?"0"+n:n,(i=i<10?"0"+i:i)+":"+(t=t<10?"0"+t:t)}function decimal(e,t){t=isnull(t)?2:t;var i=Math.pow(10,t);return Math.round(e*i)/i}function numberSpaced(e){var t=e.toString(),i=t.indexOf(".");return t.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,function(e,t){return i<0||t<i?e+" ":e})}function xhr(e,t,i,n,a){var o=a||function(){};$.ajax({type:e,url:t,crossdomain:!0,data:i,success:function(e){n(e,i)},error:o,dataType:"json"})}function trim(e){return isnull(e)?"":e=(e=(e=(e=e.split("\t").join("")).split("\n").join("")).split("\r").join("")).replace(/^\s+|\s+$|\s+(?=\s)/g,"")}function ucwords(e){return(e=e.toLowerCase()).charAt(0).toUpperCase()+e.slice(1)}function transitionEndEventName(){var e,t=document.createElement("div"),i={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(i.hasOwnProperty(e)&&void 0!==t.style[e])return i[e];return null}function animationEndEventName(){var e,t=document.createElement("div"),i={animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(i.hasOwnProperty(e)&&void 0!==t.style[e])return i[e];return null}function isnull(e){return null===e||void 0===e||"undefined"===e}function notnull(e){return null!==e&&void 0!==e&&"undefined"!==e}var machine=getDeviceInfo(!0),isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,isHybridDevice=isTouchDevice&&("onpointerdown"in window||"onmspointerdown"in window),isIOS="ios"==machine.osTiny,iOSAgent=machine.browserUserAgent.match(/iPhone|iPod|iPad/),iOSPlatform=window.navigator.platform&&window.navigator.platform.match(/iPhone|iPod|iPad/),iOSRequestDesktop=!iOSAgent&&iOSPlatform,webkitVer=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.appVersion)[1],10),isGoogle=webkitVer&&0==navigator.vendor.indexOf("Google"),isAndroid=isGoogle&&navigator.userAgent.indexOf("Android")>-1,androidDesktopMode=!isAndroid&&isGoogle&&0===navigator.platform.indexOf("Linux ")&&"ontouchstart"in document.documentElement,pathName=window.location.pathname.split("/");(iOSRequestDesktop||androidDesktopMode)&&pathName.indexOf("flash")>-1&&(document.documentElement.innerHTML="",window.location=domainPath),pathName.indexOf("demo")>-1&&isIOS&&"iphone"==machine.deviceModel&&parseInt(machine.osVersion)<13&&(document.documentElement.innerHTML="",window.location=domainPath);var evtClick,evtPress,evtPressEnd,evtMove,transitionEnd=transitionEndEventName(),animationEnd=animationEndEventName();isTouchDevice||isHybridDevice?(evtClick="touchstart",evtPress="touchstart",evtPressEnd="touchend",evtMove="touchmove"):(evtClick="click",evtPress="mousedown",evtPressEnd="mouseup",evtMove="mousemove");var updateBrowser=!1;function getDeviceInfo(e){var t,i,n,a=navigator.userAgent||navigator.vendor||window.opera,o="(?)";/(fban|fbios|fbav|fbbv|fbid)/gi.test(a)?o="facebook":/(twitter)/gi.test(a)&&(o="twitter");var s="(?)";/(macintosh)/gi.test(a)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2?s="iOS":/(iphone|ipad|ipod)/gi.test(a)?s="iOS":/(mac os x)/gi.test(a)?s="Mac OS X":/(macppc|macintel|mac_powerpc|macintosh)/gi.test(a)?s="Mac OS":/(windows|win16)/gi.test(a)?s="Windows":/(android)/gi.test(a)&&(s="Android");var l,r,c=(r=!1,l=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(l)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(l.substr(0,4)))&&(r=!0),r?"mobile":function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}()?"tablet":"computer"),d="(?)";/(windows phone|windows phone)/gi.test(a)?d="Windows phone":/(windows|win16)/gi.test(a)?d="PC":/(android)/gi.test(a)?d="Android":/(macintosh)/gi.test(a)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2?d="iPad":/(ipad)/gi.test(a)?d="iPad":/(iphone)/gi.test(a)?d="iPhone":/(ipod)/gi.test(a)?d="iPod":/(mac)/gi.test(a)&&(d="Mac");var p="(?)";"Windows"==s?/(windows 10.0|windows nt 10.0)/gi.test(a)?p="10":/(windows 8.1|windows nt 6.3)/gi.test(a)?p="8.1":/(windows 8|windows nt 6.2)/gi.test(a)?p="8":/(windows 7|windows nt 6.1)/gi.test(a)?p="7":/(windows nt 6.0)/gi.test(a)?p="Vista":/(windows nt 5.2)/gi.test(a)?p="Server 2003":/(windows nt 5.1|windows xp)/gi.test(a)?p="XP":/(windows nt 5.0|windows 2000)/gi.test(a)?p="2000":/(win 9x 4.90|windows me)/gi.test(a)?p="ME":/(windows 98|win98)/gi.test(a)?p="98":/(windows 95|win95|windows_95)/gi.test(a)?p="95":/(windows nt 4.0|winnt4.0|winnt|windows nt)/gi.test(a)?p="NT 4.0":/(windows ce)/gi.test(a)?p="CE":/(win16)/gi.test(a)&&(p="3.11"):"Android"==s?(t="Android",i=a.toLowerCase().indexOf(t.toLowerCase()),n=parseFloat(a.slice(i+t.length,i+t.length+6)),p=isNaN(n)?p:n):"iOS"==s?(t="OS",i=a.toLowerCase().indexOf(t.toLowerCase()),n=a.slice(i+t.length,i+t.length+6),n=parseFloat(n.replace("_",".")),p=isNaN(n)?p:n):-1!=s.indexOf("Mac OS")&&(t=-1!=s.indexOf("Mac OS X")?"Mac OS X":"Mac OS",i=a.toLowerCase().indexOf(t.toLowerCase()),n=a.slice(i+t.length,i+t.length+6),n=parseFloat(n.replace("_",".")),p=isNaN(n)?p:n);var u=0;if("iOS"==s&&"iPhone"==d){var v=window.screen.width,m=window.screen.height;u=0,320==v&&480==m&&(u=4),320==v&&568==m&&(u=5),375==v&&667==m&&(u=6),414==v&&736==m&&(u=6),375==v&&812==m&&(u=10),414==v&&896==m&&(u=10),414==v&&896==m&&(u=10)}var f="";f="mac os x"==s.toLowerCase()?"osx":f,f="windows"==s.toLowerCase()?"win":f,f="android"==s.toLowerCase()?"and":f,f="ios"==s.toLowerCase()?"ios":f;navigator.appVersion;var b,h,g,w=navigator.appName,k=""+parseFloat(navigator.appVersion),x=parseInt(navigator.appVersion,10);-1!=(h=a.indexOf("OPR/"))?(w="Opera",k=a.substring(h+4)):-1!=(h=a.indexOf("Opera"))?(w="Opera",k=a.substring(h+6),-1!=(h=a.indexOf("Version"))&&(k=a.substring(h+8))):-1!=(h=a.indexOf("Edge"))?(w="Microsoft Edge",k=a.substring(h+5)):-1!=(h=a.indexOf("MSIE"))?(w="Microsoft Internet Explorer",k=a.substring(h+5)):-1!=(h=a.indexOf("Trident"))?(w="Microsoft Internet Explorer",-1!=(h=a.indexOf("rv:"))&&(k=a.substring(h+3))):-1!=(h=a.indexOf("CriOS"))&&/iphone|ipod|ipad/i.test(a)?(w="Google Chrome for IOS",k=a.substring(h+6)):-1!=(h=a.indexOf("Chrome"))?(w="Google Chrome",k=a.substring(h+7)):-1!=(h=a.indexOf("Safari"))?(w="Safari",k=a.substring(h+7),-1!=(h=a.indexOf("Version"))&&(k=a.substring(h+8))):-1!=(h=a.indexOf("Firefox"))?(w="Mozilla Firefox",k=a.substring(h+8)):(b=a.lastIndexOf(" ")+1)<(h=a.lastIndexOf("/"))&&(w=a.substring(b,h),k=a.substring(h+1),w.toLowerCase()==w.toUpperCase()&&(w=navigator.appName)),-1!=(g=k.indexOf(";"))&&(k=k.substring(0,g)),-1!=(g=k.indexOf(" "))&&(k=k.substring(0,g)),x=parseInt(""+k,10),isNaN(x)&&(k=""+parseFloat(navigator.appVersion),x=parseInt(navigator.appVersion,10));var y={osName:s,osTiny:f,osVersion:p.toString(),device:c,deviceModel:d,deviceNumber:u,browserName:w,browserVersion:x,browserFullVersion:k,browserAppName:navigator.appName,browserUserAgent:a,webviewEmbed:o,uuid:"unknown"};if(!0===e)for(var C in y)"string"==typeof y[C]&&(y[C]=y[C].toLowerCase());return y}"microsoft internet explorer"==machine.browserName?updateBrowser=!0:"google chrome"==machine.browserName&&machine.browserVersion<=30?updateBrowser=!0:"safari"==machine.browserName&&machine.browserVersion<9?updateBrowser=!0:"mozilla firefox"==machine.browserName&&machine.browserVersion<25?updateBrowser=!0:"opera"==machine.browserName&&machine.browserVersion<18&&(updateBrowser=!0),updateBrowser&&(document.documentElement.innerHTML="",window.location=domainPath+"info/browser");var $btTrailer,$trailer,i18n={};function saveLangSelect(e){localStorage.setItem("lang",e)}function loadLangSelect(e){var t=e||document.documentElement.lang||"en";document.body.className.indexOf("page-info")>-1&&"en"!=localStorage.lang&&(t=localStorage.lang);var i=new XMLHttpRequest;function n(){}i.addEventListener("load",function(){i18n=JSON.parse(this.responseText);var e=document.querySelectorAll("[data-dyntxt]");for(var i=0,n=e.length;i<n;i++){var a=e[i].getAttribute("data-dyntxt");void 0!=i18n[a]&&(e[i].innerHTML=i18n[a])}localStorage.lang=t},!1),i.addEventListener("error",n,!1),i.addEventListener("abort",n,!1),i.open("GET",domainPath+"i18n/"+t+".json"),i.send()}function initResponsiveMenu(){$("header .menu #bt-nav").on("click",function(e){e.preventDefault(),$("body").hasClass("menu-opened")?closeBurgerMenu():openBurgerMenu()})}function openBurgerMenu(){$("body").on(evtClick,closeBurgerMenu).addClass("menu-opened"),$("header .menu #bt-nav").find("svg use").attr("xlink:href","#ic-close"),$("header").on(evtClick,function(e){e.stopPropagation()})}function closeBurgerMenu(){$("body").off().removeClass("menu-opened"),$("header .menu #bt-nav").find("svg use").attr("xlink:href","#ic-burger"),$("header").off()}function initPageHome(){var e=$("body");new Diaporama("#diapo-press").clickRandomPoint(),$trailer=$("#trailer"),$btTrailer=$("#bt-play-trailer"),$(window).on("scroll",function(){window.pageYOffset>200&&!e.hasClass("offset")?e.addClass("offset"):window.pageYOffset<=200&&e.hasClass("offset")&&e.removeClass("offset")}),$(window).trigger("scroll"),$trailer.on("click",function(){$btTrailer.addClass("spin").find("svg use").attr("xlink:href","#ic-loader-blue"),$trailer.off(),initYoutubeAPI()})}document.body.className.indexOf("page-info")>-1&&"en"!=localStorage.lang&&(document.querySelectorAll("[data-link-lang]").forEach(function(e){e.href=e.href.replace(domainPath,domainPath+localStorage.lang+"/")}),document.querySelector("#bt-foot-wallpaper").href=document.querySelector("#bt-foot-wallpaper").href.replace(domainPath,domainPath+localStorage.lang+"/"));var YTplayer,XHRmemotime,searchform,YTplayerReady=!1;function reinitTrailer(){$trailer.removeClass("is-active"),$trailer.off().on("click",launchTrailer)}function launchTrailer(e){null!=e&&e.preventDefault(),$trailer.off().addClass("is-active"),YTplayer.playVideo(),$(window).on("scroll",checkTrailerOnScroll)}function stopTrailer(e){$btTrailer.find("svg use").attr("xlink:href","#ic-play"),$(window).off("scroll",checkTrailerOnScroll),reinitTrailer()}function initYoutubeAPI(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function onYouTubeIframeAPIReady(){YTplayer=new YT.Player("video-trailer",{videoId:"eMdLqaeWP-k",playerVars:{rel:0,modestbranding:1},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){YTplayerReady=!0,$btTrailer.removeClass("spin"),launchTrailer()}function onPlayerStateChange(e){switch(YTplayer.stateChange=e.data,e.data){case-1:break;case 0:stopTrailer()}}function checkTrailerOnScroll(){if(1==YTplayer.stateChange||2==YTplayer.stateChange){var e=$trailer.offset().top-window.pageYOffset,t=e+$trailer.innerHeight();(e>window.innerHeight||t<0)&&(YTplayer.stopVideo(),stopTrailer())}}var playlist={};function initPageTop50(){XHRmemotime={},searchform=new SearchForm("form-search-mix"),$(".box-tab .tab").on("click",clickTab),$("#list-top50 .tab-filter .bt").on("click",clickFilter),$("#list-top50 .tab-filter .bt#tab-filter-day").trigger("click"),$("#list-search .tab-filter .bt").on("click",clickFilter),$("#list-search .tab-filter .bt#tab-filter-name").trigger("click"),prefill("#list-live"),prefill("#list-filter-day"),prefill("#list-filter-week"),prefill("#list-filter-month"),prefill("#list-filter-year"),prefill("#list-filter-search"),"#top50"==window.location.hash?$(".box-tab .tab#tab-top50").trigger("click"):"#search"==window.location.hash?$(".box-tab .tab#tab-search").trigger("click"):$(".box-tab .tab#tab-live").trigger("click")}function clickTab(e){var t=$(this),i=$("#"+$(this).attr("data-list-id")),n=t.attr("id").replace("tab-","");switch(t.hasClass("active")||(emptyLine(),$(".box-tab .tab").removeClass("active"),$(".box-list .list").removeClass("active"),t.addClass("active"),i.addClass("active")),n){case"live":moreThanTime(1,!1,XHRmemotime.live)&&loadLive();break;case"top50":moreThanTime(10,!1,XHRmemotime.top50)&&loadTop50()}}function clickFilter(e){var t=$(this);if(!t.hasClass("active")){emptyLine(),t.parent().find(".bt.active").removeClass("active"),t.parent().parent().find(".list-filter.active").removeClass("active");var i=t.parent().parent().find("#"+$(this).attr("data-list-id"));t.addClass("active"),i.addClass("active"),"list-filter-search"==t.attr("data-list-id")&&searchform.submit()}}function prefill(e){for(var t="",i=0;i<50;i++)t+=createLine();$(e).html(t)}function createLine(){var e="";return e+='<div class="line fake">',e+='\t\t<div class="top">',e+='\t\t\t<div class="icon"><div class="icn-version"></div><div class="deco-box"><div class="icn-deco"></div><div class="icn-num"></div></div></div>',e+='\t\t\t<div class="left">',e+='\t\t\t\t<div class="title"></div> ',e+='\t\t\t\t<div class="from">',e+='\t\t\t\t\t<div class="box-flag"><div class="flag"></div></div>',e+='\t\t\t\t\t<div class="name"></div>',e+="\t\t\t\t</div>",e+="\t\t\t</div>",e+='\t\t\t<div class="right">',e+='\t\t\t\t<div class="box-stat">',e+='\t\t\t\t\t<div class="stat">',e+='\t\t\t\t\t\t<div class="view stat-icn"><div class="nb"></div><div class="nbicn view"><svg class="icn-svg icn-gray"><use xlink:href="#ic-view-mini"></use></svg></div></div>',e+='\t\t\t\t\t\t<div class="like stat-icn"><div class="nb"></div><div class="nbicn like"><svg class="icn-svg icn-gray"><use xlink:href="#ic-like-mini"></use></svg></div></div>',e+="\t\t\t\t\t</div>",e+='\t\t\t\t\t<div class="date"></div>',e+="\t\t\t\t</div>",e+="\t\t\t</div>",e+="\t\t</div>",e+='\t\t<div class="app"></div>',e+='\t\t<div class="bot">',e+='\t\t\t<div class="left">',e+='\t\t\t\t<div class="bt try bt-long bt-mini fluid no-bck"><div class="box"><div class="txt" data-dyntxt="bt_try_it">'+i18n.bt_try_it+"</div></div></div>",e+="\t\t\t</div>",e+='\t\t\t<div class="right">',e+='\t\t\t\t<div class="msg-info"></div>',e+='\t\t\t\t<div class="bt like"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-like"></use></svg></div><div class="dot">1</div></div>',e+='\t\t\t\t<div class="bt share"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-share"></use></svg></div></div>',e+='\t\t\t\t<div class="bt blank"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-external"></use></svg></div></div>',e+="\t\t\t</div>",e+="\t\t</div>",e+="</div>"}function cleanList(e){$(e).find("line").off(),$(e).empty(),prefill(e),delete playlist[e.replace("#","")]}function updateLine(e,t,i,n,a){t.dateQuery=isnull(t.dateQuery)?getNow():t.dateQuery;var o="top50"===i,s=a||o?getTimeAgo(t.datedb,t.dateQuery):getStringDate(t.datedb),l=o&&e<=4?'<div class="bck rate'+(e+1)+'"></div>':o?'<div class="bck"></div>':"",r=o?e+1:"",c=$(n).find(".line:eq("+e+")");c.removeClass("fake"),c.attr("data-app",t.app).attr("data-url",t.link).attr("data-index",e).attr("data-list-id",n.replace("#","")),c.find(".icon .icn-version").html('<div class="bck v'+t.app+'"></div>'),o&&e<3&&c.find(".icon .deco-box").addClass("bounce").addClass("delay"+e),c.find(".icon .icn-deco").html(l),c.find(".icon .icn-num").html(r),c.find(".title").html(t.title),c.find(".name").html(t.name),c.find(".flag").addClass("flag-"+t.country),c.find(".view .nb").html(numberSpaced(t.nbview)),c.find(".like .nb").html(numberSpaced(t.nblike)),c.find(".date").html(s),"info"!=i&&(c.addClass("clickable"),c.on("click",clickLine))}function clickLine(e){e.preventDefault();var t=$(e.currentTarget);if(!t.hasClass("open")){emptyLine();var i=t.attr("data-app"),n=t.attr("data-url"),a=t.attr("data-index"),o=t.attr("data-list-id"),s=playlist[o][a],l="en"!=localStorage.lang?"&lang="+localStorage.lang:"",r="";r+='<div id="appwrap" class="onlyScene">',r+='\t<div id="appbox">',r+='\t\t<iframe id="appiframe" src="'+(domainPath+"webapp/app.php?v="+i+"&mix="+n+l)+'"></iframe>',r+="\t</div>",r+="</div>",r+='<div class="box loader spin"><svg class="icn-svg"><use xlink:href="#ic-loader"></use></svg></div>',t.find(".app").append(r),s.$line=t,activeBtLine(s),iframeLoader=new IframeLoaderObject("appiframe",function(){iframe.prepareMixReplay(s),t.find(".app").find(".loader.spin").remove()}),t.addClass("open");var c=t.offset().top-window.innerHeight/2+t.height()/2;c=c<$("header").height()?$("header").height():c,"mobile"==machine.device&&90==Math.abs(window.orientation)&&(c=t.offset().top),pageScroll(c)}}function emptyLine(){$(".line.open").find(".bt").off(),$(".line.open").removeClass("open").find(".app").empty()}function activeBtLine(e){e.$line.find(".bt.try").on("click",function(){"computer"==machine.device?window.location=domainPath+getLangPath()+"demo/":"ios"==machine.osTiny?window.location=taburl.appstore:"and"==machine.osTiny?window.location=taburl.playstore:popupDownloadApp()}),e.$line.find(".bt.like").on("click",function(){clickBtLikeMix(e)}),e.$line.find(".bt.share").on("click",function(){popupShareIncredibox(e)}),e.$line.find(".bt.blank").on("click",function(){void 0!=iframe&&iframe.loopOn&&!iframe.pause&&iframe.clickBtClock(),openURL(domainPath+getLangPath()+"mix/"+e.link)})}function clickBtLikeMix(e){var t=e.$line.find(".bt.like");t.addClass("disable spin"),t.find("svg use").attr("xlink:href","#ic-loader"),saveStatMix(e,"nblike")}function clickBtUnlikeMix(e){var t=e.$line.find(".bt.like");t.addClass("disable spin"),t.find("svg use").attr("xlink:href","#ic-loader"),saveStatMix(e,"nbunlike")}function clickBtPlayMix(e){saveStatMix(e,"nbview")}function saveStatMix(e,t){var i,n,a,o;"nbview"!=t&&(i=e.$line.find(".bt.like"),n=e.$line.find(".msg-info").removeClass("animate"),e.$line.find(".stat .stat-icn").removeClass("animate")),xhr("POST",domainPath+phpFolder+"save-stat-mix.php",{uuid:"unknown",link:e.link,row:t},function(s){if("nbview"==t){if("success"==s.state)switch(s.info){case"view ok":a=e.$line.find(".stat .stat-icn.view").addClass("animate"),(o=a.find(".nb")).html(numberSpaced(parseInt(o.html().replace(" ",""))+1))}}else if("nblike"==t)if("success"==s.state){switch(s.info){case"like ok":n.html(i18n.vote_thanks).addClass("animate").addClass("animate"),a=e.$line.find(".stat .stat-icn.like").addClass("animate"),(o=a.find(".nb")).html(numberSpaced(parseInt(o.html().replace(" ",""))+1));break;case"already liked":n.html(i18n.vote_already).addClass("animate")}i.off().removeClass("disable spin").addClass("liked").on("click",function(){clickBtUnlikeMix(e)}),i.find("svg use").attr("xlink:href","#ic-like")}else n.html(i18n.msg_unable_co_server).addClass("animate"),i.removeClass("disable spin"),i.find("svg use").attr("xlink:href","#ic-like");else if("nbunlike"==t)if("success"==s.state){switch(s.info){case"unlike ok":n.html(i18n.vote_cancel).addClass("animate"),a=e.$line.find(".stat .stat-icn.like").addClass("animate"),(o=a.find(".nb")).html(numberSpaced(parseInt(o.html().replace(" ",""))-1))}i.off().removeClass("liked disable spin").on("click",function(){clickBtLikeMix(e)}),i.find("svg use").attr("xlink:href","#ic-like")}else n.html(i18n.msg_unable_co_server).addClass("animate"),i.removeClass("disable spin"),i.find("svg use").attr("xlink:href","#ic-like")},function(e){"nblike"==t&&(n.html(i18n.msg_unable_co_server).addClass("animate"),i.removeClass("liked disable spin"),i.find("svg use").attr("xlink:href","#ic-like"))})}function loadLive(){$(".box-tab #tab-live .icn-svg use").attr("xlink:href","#ic-loader"),$(".box-tab #tab-live").addClass("spin"),xhr("GET",domainPath+phpFolder+"get-live.php?v=0",{},function(e){if("success"==e.state){XHRmemotime.live=new Date;var t=e.mixlist;playlist["list-live"]=t,t.forEach(function(e,t){updateLine(t,e,"live","#list-live",!0)})}$(".box-tab #tab-live .icn-svg use").attr("xlink:href","#ic-live-mini"),$(".box-tab #tab-live").removeClass("spin")},function(e){})}function loadTop50(){function e(e,t){e.forEach(function(e,i){updateLine(i,e,"top50",t,!1)})}$(".box-tab #tab-top50 .icn-svg use").attr("xlink:href","#ic-loader"),$(".box-tab #tab-top50").addClass("spin"),xhr("GET",domainPath+phpFolder+"get-top-50.php?v=0",{},function(t){"success"==t.state&&(XHRmemotime.top50=new Date,e(t.listDay,"#list-filter-day"),e(t.listWeek,"#list-filter-week"),e(t.listMonth,"#list-filter-month"),e(t.listYear,"#list-filter-year"),playlist["list-filter-day"]=t.listDay,playlist["list-filter-week"]=t.listWeek,playlist["list-filter-month"]=t.listMonth,playlist["list-filter-year"]=t.listYear),$(".box-tab #tab-top50 .icn-svg use").attr("xlink:href","#ic-trophy-mini"),$(".box-tab #tab-top50").removeClass("spin")},function(e){})}function SearchForm(e){var t=$('form[name="'+e+'"]'),i=t.find('input[name="input-search"]'),n=t.find('button[type="submit"]'),a=t.find(".form-msg"),o="",s="",l="",r="",c=!1;function d(){if(!c)if(c=!0,o=trim(i.val()),""!=s&&""==o)s="",cleanList("#list-filter-search"),a.html(""),c=!1;else if(o.length>1&&""!=o&&!regex.search.test(o))if(l=t.parent().parent().find(".tab-filter .bt.active").attr("id").split("-")[2],o.toLowerCase()!=s||l.toLowerCase()!=r){r=l.toLowerCase(),s=o.toLowerCase(),cleanList("#list-filter-search"),a.html(i18n.search_progress),n.addClass("btlocked spin"),n.find(".icn-svg use").attr("xlink:href","#ic-loader"),$(".box-tab #tab-search .icn-svg use").attr("xlink:href","#ic-loader"),$(".box-tab #tab-search").addClass("spin");var e="search-mix.php?v=0&str="+encodeURIComponent(o)+"&f="+encodeURIComponent(l);xhr("GET",domainPath+phpFolder+e,{},u,p)}else c=!1;else(d=i.parent()).addClass("invalid").one(animationEnd,function(e){d.removeClass("invalid")}),c=!1;var d}function p(e){a.removeClass("warning"),a.removeClass("success"),a.addClass("warning"),a.html(i18n.msg_unable_co_server),n.find(".icn-svg use").attr("xlink:href","#ic-search"),n.removeClass("btlocked spin"),c=!1,$(".box-tab #tab-search .icn-svg use").attr("xlink:href","#ic-search-mini"),$(".box-tab #tab-search").removeClass("spin")}function u(e,t){if(a.removeClass("warning"),a.removeClass("success"),n.find(".icn-svg use").attr("xlink:href","#ic-search"),n.removeClass("btlocked spin"),"success"==e.state){var i=e.mixlist;playlist["list-filter-search"]=i,a.html(50==i.length?i18n.msg_result_50:i.length<=1&&void 0!=i18n["msg_result.one"]?i18n["msg_result.one"].replace("%{count}",i.length):i18n["msg_result.other"].replace("%{count}",i.length)),i.forEach(function(t,i){var n=t;n.dateQuery=e.now,updateLine(i,n,"live","#list-filter-search",!1)})}else a.addClass("warning"),a.html(i18n.msg_error_co_db);c=!1,$(".box-tab #tab-search .icn-svg use").attr("xlink:href","#ic-search-mini"),$(".box-tab #tab-search").removeClass("spin")}this.delete=function(){t.off(),null},this.submit=function(){d()},t.on("submit",d)}function initPageMix(){iframeLoader=new IframeLoaderObject("appiframe",function(){mixobj.$line=$(".box-list .line"),iframe.prepareMixReplay(mixobj),updateLine(0,mixobj,"info",".box-list",!1),activeBtLine(mixobj),$(".app").find(".loader.spin").remove()});var e=$("#box-list-mix .line");$(window).resize(function(){window.innerWidth<=1024&&e.hasClass("noPadding")?e.removeClass("noPadding"):window.innerWidth>1024&&!e.hasClass("noPadding")&&e.addClass("noPadding")}),$(window).resize()}function initPageWallpaper(){var e=new Diaporama("#diapo-wall"),t=$("#bt-dl-wall"),i=$(".dl-bt-box"),n=i.find(".bt-mini");function a(){i.removeClass("active"),i.off(),i.find(".bt-mini").off()}function o(t){n.removeClass("active"),$(this).addClass("active");var i=$(this).attr("data-ratio").replace(":","-"),a=e.getCurrentSlide(),o=a.find("img").attr("alt"),s=a.find("img").attr("src").split("/"),l=s[s.length-1].replace("site",i),r=domainPath+"img/wallpaper/"+i+"/"+l,c="computer"==machine.device?"_self":"_blank";$(this).attr("href",r),$(this).attr("target",c),$(this).attr("download",o+" - "+l)}$("body").hasClass("mobile")?($(".slide-box .slide").each(function(e){var t=$(this).find("img").attr("src");$(this).find("img").attr("src",t.replace("wallpaper-site","wallpaper-mobile"))}),t.click(function(t){var i=e.getCurrentSlide(),n=(i.find("img").attr("alt"),i.find("img").attr("src").split("/")),a=n[n.length-1];openURL(domainPath+"img/wallpaper/mobile/"+a)})):t.on(evtClick,function(){i.addClass("active"),i.on("mouseleave",a);var e=getScreenAspectRatio();n.removeClass("active"),n.on(evtClick,o),i.find('.bt-mini[data-ratio="'+e+'"]').addClass("active")})}function initPageInfo(){var e=$("body"),t=$("header").offset().top;!function(){function e(){var e=window.location.hash;if(""!=e){var i=$(e).next();i.addClass("flashme"),setTimeout(function(){i.removeClass("flashme")},1e3),i.hasClass("tog")&&t(i.find("h4"))}}function t(e){var t=e.next(),i=0==t.height()?t.get(0).scrollHeight:0;t.animate({height:i+"px"},250,function(){})}window.onhashchange=e,e(),$(".tog h4").on("click",function(e){t($(this))})}(),$(window).on("scroll",function(){window.pageYOffset>t&&!e.hasClass("header-fixed")?e.addClass("header-fixed"):window.pageYOffset<=t&&e.hasClass("header-fixed")&&e.removeClass("header-fixed")}),$(window).trigger("scroll"),"mobile"!=machine.device&&$("body").hasClass("page-faq")&&function(){$(".image.zoomable").on("click",function(e){var t="";t+="<div>",t+='\t<img src="'+$(e.currentTarget).find("img").attr("src")+'" class="zoom-img" />',t+="</div>",popup.$content.html(t),popup.open()})}(),$("body").hasClass("page-form")&&$('#contactform input[name="machine"]').val(JSON.stringify(machine))}function initPageFlash(){if(swfobject.hasFlashPlayerVersion("9.0.0")){var e={bgcolor:"#FFFFFF",menu:"false",quality:"best",salign:"T",scale:"noscale",wmode:"opaque",allowfullscreen:"false",allowscriptaccess:"always"};swfobject.embedSWF("index.swf","flash-content","100%","100%","9.0.0","",{},e,{},function(e){})}else $("#flash-content .txt").show()}var popup,iframeLoader,iframe,$appBody,mainWindow=window,bodyScrollTop=0;function activeMenu(e){var t=document.getElementById(e);if(null!=t){var i="active",n=t.className||"";""!=n&&(i=n.concat(" active")),t.className=i}}function clickCheckScroll(e){bodyScrollTop=$("body").scrollTop()}function clickEndCheckScroll(e){$("body").scrollTop()==bodyScrollTop&&e.data.func(e)}function onClickCheckScroll(e,t){isHybridDevice||isTouchDevice?e.off().on(evtPress,clickCheckScroll).on(evtPressEnd,{func:t},clickEndCheckScroll):e.off().on(evtPressEnd,t)}function IframeLoaderObject(e,t){var i,n=!1,a=!1;function o(){iframe=i.contentWindow,$appBody=$(iframe.window.document.body),iframe.documentReady(),t&&t(),$("#appbox").addClass("appReady")}this.appReady=function(){n=!0,a&&o()};var s=setInterval(function(){if(null!=(i=document.getElementById(e))){var t=i.contentDocument||i.contentWindow.document;return"complete"==t.readyState||"interactive"==t.readyState?(a=!0,n&&o(),void clearInterval(s)):void 0}clearInterval(s)},500);return this}function appEvent(e,t){switch(e){case"appIsReady":iframeLoader.appReady();break;case"openFullscreen":openFullscreen();break;case"popupGetApp":popupDownloadApp(!0);break;case"replayStart":clickBtPlayMix(t)}}function openFullscreen(e){e=e||"appbox";var t=document.getElementById(e);isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function isFullscreen(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen}function popupShareIncredibox(e){var t=-1!=("object"==typeof e&&notnull(e.link)?domainOnline+"mix/"+e.link:domainOnline).indexOf("mix/"),i=t?i18n.bt_share_mix:i18n.bt_share_incredibox;saveGA("popup_share",t?"Share mix":"Share site","open_popup");var n="";if(n+='<div id="share-incredibox" class="txt-center">',n+="\t<h2>"+i+"</h2>",n+='\t<nav class="box-bt">',n+='\t\t<div class="bt bt-txt mail"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-mail"></use></svg></div><div class="txt">Mail</div></div>',n+='\t\t<div class="bt bt-txt facebook"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-facebook"></use></svg></div><div class="txt">FB</div></div>',n+='\t\t<div class="bt bt-txt twitter"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-twitter"></use></svg></div><div class="txt">Twitter</div></div>',n+=t?'<div class="bt bt-txt link"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-link"></use></svg></div><div class="txt">URL</div></div>':"",n+="\t</div>",n+="</div>",popup.$content.html(n),popup.$content.find(".bt.mail").on(evtClick,function(t){popup.close(function(){popupShareIncrediboxMail(e)})}),popup.$content.find(".bt.facebook").on(evtClick,function(t){shareSome("facebook",e)}),popup.$content.find(".bt.twitter").on(evtClick,function(t){shareSome("twitter",e)}),popup.$content.find(".bt.link").on(evtClick,function(t){popup.close(function(){popupShareShowLink(e)})}),"computer"!=machine.device){var a=popup.$content.find(".bt.facebook"),o=popup.$content.find(".bt.twitter");a.click(function(){a.trigger(evtClick)}),o.click(function(){o.trigger(evtClick)})}popup.open()}function popupShareShowLink(e){var t="object"==typeof e&&notnull(e.link)?domainOnline+"mix/"+e.link:domainOnline;t=t.replace("https://www.","");var i="computer"==machine.device,n="";n+='<form onsubmit="return false" class="form">',n+=i?'<div class="input-line with-bt">':'<div class="input-line">',n+=i?'<input type="text" name="input-link" value="'+t+'" readonly="readonly" onClick="this.select();">':'<input type="text" name="input-link" value="'+t+'" onClick="this.setSelectionRange(0,9999);">',n+=i?'<button type="submit" class="bt copy"><div class="box"><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-copy"></use></svg></div></div></button>':"",n+="\t</div>",n+=i?'<div class="form-msg"></div>':"",n+="</form>",popup.$content.html(n),i&&popup.$content.find(".bt.copy").on(evtClick,function(){copyToClipboard(t),popup.$content.find(".form-msg").addClass("success").html(i18n.msg_copy_clipboard)}),popup.canGoBack(function(){popupShareIncredibox(e)}),popup.open()}function popupShareIncrediboxMail(e){var t,i=`\n\t<form onsubmit="return false" name="form-share" class="form">\n\t\t<div class="input-line"><input type="text" name="input-name" placeholder="${i18n.your_name}*"></div>\n\t\t<div class="input-line with-bt">\n\t\t\t<input type="email" name="input-email" placeholder="${i18n.recipient_email}*">\n\t\t\t<button type="submit" class="bt send"><div class="box"><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-send"></use></svg></div></div></button>\n\t\t</div>\n\t\t<div class="form-msg"></div>\n\t</form>`;popup.$content.html(i),popup.onopen=function(){t=new ShareForm("form-share",e)},popup.onclose=function(){t.delete()},popup.canGoBack(function(){popupShareIncredibox(e)}),popup.open()}function shareSome(e,t){var i="",n="object"==typeof t&&notnull(t.link)?domainOnline+"mix/"+t.link:domainOnline,a=-1!=n.indexOf("/mix/")?i18n.twitter_vote_for_mix:i18n.twitter_try_incredibox;switch(e){case"facebook":i="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(n);break;case"twitter":i="http://twitter.com/share?url="+encodeURIComponent(n)+"&text="+encodeURIComponent(a),i="https://twitter.com/intent/tweet?text="+encodeURIComponent(a)+"&url="+encodeURIComponent(n)+"&hashtags=musicApp,beatbox,pumpItUp&related=incredibox_%3AThe%20Incredibox%20official%20Twitter%20account!"}"computer"==machine.device?windowPopup(i,560,350,!0):openURL(i)}function popupNewsletter(){var e,t=`\n\t<form onsubmit="return false" name="form-newsletter" class="form">\n\t\t<div class="input-line"><select name="select-role" required>\n\t\t\t<option value="" disabled selected hidden>${i18n.you_are}...*</option>\n\t\t\t<option value="user">${i18n.iam_user}</option>\n\t\t\t<option value="teacher">${i18n.iam_teacher}</option>\n\t\t</select></div>\n\t\t<div class="input-line"><input type="text" name="input-name" placeholder="${i18n.your_name}*" required></div>\n\t\t<div class="input-line with-bt">\n\t\t\t<input type="email" name="input-email" placeholder="${i18n.your_email}*" required>\n\t\t\t<button type="submit" class="bt send"><div class="box"><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-send"></use></svg></div></div></button>\n\t\t</div>\n\t\t<div class="form-msg"></div>\n\t</form>`;popup.$content.html(t),popup.onopen=function(){e=new NewsForm("form-newsletter")},popup.onclose=function(){e.delete()},popup.open()}function popupSome(){var e="";e+='<div id="some-incredibox" class="txt-center">',e+="\t<h2>"+i18n.stay_tuned+"</h2>",e+='\t<nav class="box-bt">',e+='\t\t<a href="'+taburl.facebook+'" target="_blank" class="bt bt-txt facebook"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-facebook"></use></svg></div><div class="txt">FB</div></a>',e+='\t\t<a href="'+taburl.twitter+'" target="_blank" class="bt bt-txt twitter"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-twitter"></use></svg></div><div class="txt">Twitter</div></a>',e+='\t\t<a href="'+taburl.youtube+'" target="_blank" class="bt bt-txt youtube"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-youtube"></use></svg></div><div class="txt">YT</div></a>',e+='\t\t<a href="'+taburl.instagram+'" target="_blank" class="bt bt-txt instagram"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-instagram"></use></svg></div><div class="txt">Insta</div></a>',e+='\t\t<a href="'+taburl.tiktok+'" target="_blank" class="bt bt-txt tiktok"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-tiktok"></use></svg></div><div class="txt">Tiktok</div></a>',e+='\t\t<a href="'+taburl.tumblr+'" target="_blank" class="bt bt-txt tumblr"><div class="box"><svg class="icn-svg"><use xlink:href="#ic-tumblr"></use></svg></div><div class="txt">Tumblr</div></a>',e+="\t</div>",e+="</div>",popup.$content.html(e),popup.open()}function showLanguageListHeader(){var e=document.getElementById("top-header").getElementsByClassName("language")[0];e.classList.contains("show-list")?(e.classList.remove("show-list"),e.getElementsByClassName("bt-menu")[0].classList.remove("active"),document.body.removeEventListener("click",hideLanguageListHeader)):(e.classList.add("show-list"),e.getElementsByClassName("bt-menu")[0].classList.add("active"),document.body.addEventListener("click",hideLanguageListHeader))}function hideLanguageListHeader(e){if(null!=e.target.getAttribute("href"))return!1;if(null!=e.target.parentNode&&null!=e.target.parentNode.getAttribute("href"))return!1;if(null!=e.target.parentNode&&null!=e.target.parentNode.parentNode&&null!=e.target.parentNode.parentNode.getAttribute("href"))return!1;e.preventDefault();var t=document.querySelector(".show-list");t.classList.remove("show-list"),t.getElementsByClassName("bt-menu")[0].classList.remove("active"),document.body.removeEventListener("click",hideLanguageListHeader)}function popupSwitchLang(){var e="";e+='<div id="popup-list-lang">';for(var t=document.getElementById("top-header").getElementsByClassName("list-lang")[0].getElementsByTagName("a"),i=0,n=t.length;i<n;i++){var a=t[i].getAttribute("href"),o=t[i].textContent,s=t[i].getAttribute("data-code");e+=`<a href="${a}" class="bt bt-long bt-mini no-bck${s==document.documentElement.lang?"":" light"}" onclick=saveLangSelect('${s}')><div class="box"><div class="flag flag-${"en"==s?"us":s}"></div><div class="txt">${o}</div></div></a>`}e+="</div>",popup.$content.html(e),popup.open()}function popupDownloadApp(e){var t="";t+='<div id="choose-store" class="txt-center">',e&&(t+="\t<h2>"+i18n.app_exclusivity+" &#128521;</h2>",t+='\t<span class="txt">'+i18n.feature_only_inapp+"<br>"+i18n.access_full_xp+"</span>"),t+='\t<div class="box-bt-store">',["isChina"]in window&&isChina?(t+='\t<a href="'+taburl.appstorechina+'" target="_blank" class="bt-store"><div class="bck appstore" onclick="saveGA(\'bt_appstore\', \'Popup store\', \'click_bt\')">Download on the App Store</div></a>',t+='\t<a href="'+taburl.aic+'" target="_blank" class="bt-store"><div class="bck aic" onclick="saveGA(\'bt_playstore\', \'Popup store\', \'click_bt\')">Get it on Google Play</div></a>',t+='\t<a href="'+taburl.playstore+'" target="_blank" class="bt-store"><div class="bck playstore" onclick="saveGA(\'bt_playstore\', \'Popup store\', \'click_bt\')">Get it on Google Play</div></a>',t+='\t<a href="'+taburl.amazonstore+'" target="_blank" class="bt-store"><div class="bck amazonstore" onclick="saveGA(\'bt_amazon\', \'Popup store\', \'click_bt\')">Available at Amazon</div></a>',t+='\t<a href="'+taburl.windowsstore+'" target="_blank" class="bt-store"><div class="bck windowsstore" onclick="saveGA(\'bt_windows\', \'Popup store\', \'click_bt\')">Available on Windows Store</div></a>',t+='\t<a href="'+taburl.steam+'" target="_blank" class="bt-store"><div class="bck steam" onclick="saveGA(\'bt_steam\', \'Popup store\', \'click_bt\')">Available on Steam</div></a>'):(t+='\t<a href="'+taburl.appstore+'" target="_blank" class="bt-store"><div class="bck appstore" onclick="saveGA(\'bt_appstore\', \'Popup store\', \'click_bt\')">Download on the App Store</div></a>',t+='\t<a href="'+taburl.playstore+'" target="_blank" class="bt-store"><div class="bck playstore" onclick="saveGA(\'bt_playstore\', \'Popup store\', \'click_bt\')">Get it on Google Play</div></a>',t+='\t<a href="'+taburl.amazonstore+'" target="_blank" class="bt-store"><div class="bck amazonstore" onclick="saveGA(\'bt_amazon\', \'Popup store\', \'click_bt\')">Available at Amazon</div></a>',t+='\t<a href="'+taburl.steam+'" target="_blank" class="bt-store"><div class="bck steam" onclick="saveGA(\'bt_steam\', \'Popup store\', \'click_bt\')">Available on Steam</div></a>',t+='\t<a href="'+taburl.macappstore+'" target="_blank" class="bt-store"><div class="bck macappstore" onclick="saveGA(\'bt_macstore\', \'Popup store\', \'click_bt\')">Download on the Mac App Store</div></a>',t+='\t<a href="'+taburl.windowsstore+'" target="_blank" class="bt-store"><div class="bck windowsstore" onclick="saveGA(\'bt_windows\', \'Popup store\', \'click_bt\')">Available on Windows Store</div></a>'),t+="\t</div>",t+='\t<a href="'+domainPath+getLangPath()+'app" class="bt bt-long bt-mini fluid navr info" onclick="saveGA(\'bt_info\', \'Popup store\', \'click_bt\')"><div class="box"><div class="txt">'+i18n.bt_more_info+'</div><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-navr"></use></svg></div></div></a>',t+="\t<hr>",t+='\t<a href="'+domainPath+getLangPath()+'schools" class="bt-store"><div class="bck schools" onclick="saveGA(\'bt_schools\', \'Popup store\', \'click_bt\')">Incredibox for schools</div></a>',t+="</div>",popup.$content.html(t),popup.open()}function popupChooseShop(){var e="";e+='<div id="choose-shop" class="txt-center">',e+="\t<h2>Choose your shop!</h2>",e+='\t<div class="box-bt-shop">',e+='\t\t<div class="col">',e+='\t\t\t<a href="'+taburl.shop+'" target="_blank" class="shop-img" onclick="saveGA(\'bt_buy_shop\', \'Popup shop\', \'click_bt\')"><div></div></a>',e+='\t\t\t<a href="'+taburl.shop+'" target="_blank" class="bt bt-long bt-mini fluid navr" onclick="saveGA(\'bt_buy_shop\', \'Popup shop\', \'click_bt\')"><div class="box"><div class="txt">Apparel</div><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-shop"></use></svg></div></div></a>',e+="\t\t</div>",e+='\t\t<div class="col">',e+='\t\t\t<a href="'+taburl.merch+'" target="_blank" class="shop-img" onclick="saveGA(\'bt_buy_album\', \'Popup shop\', \'click_bt\')"><div></div></a>',e+='\t\t\t<a href="'+taburl.merch+'" target="_blank" class="bt bt-long bt-mini fluid navr" onclick="saveGA(\'bt_buy_album\', \'Popup shop\', \'click_bt\')"><div class="box"><div class="txt">CD &amp; Vinyl</div><div class="bck"><svg class="icn-svg"><use xlink:href="#ic-mix"></use></svg></div></div></a>',e+="\t\t</div>",e+="\t</div>",e+="</div>",popup.$content.html(e),popup.open()}function popupWatchVideo(e){var t="";t+='<div class="video-responsive">',t+='\t<iframe width="560" height="315" src="'+e+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',t+="</div>",popup.$content.html(t),popup.open("popup-video-responsive")}function Popup(e){var t,i,n,a=this,o="";this.construct=function(){t=$(e),i=t.find(".popup"),a.$btClose=i.find(".bt-round.close"),a.$content=i.find(".content"),!1},this.isOpen=function(){return t.hasClass("open")},this.open=function(e){o=e||"",i.addClass(o),t.addClass("visible"),t.addClass("open").one(transitionEnd,function(e){i.addClass("fadeIn").one(transitionEnd,function(e){notnull(n)?a.$btClose.on("click touchstart",function(e){e.preventDefault(),a.close(n)}):a.$btClose.on("click touchstart",function(e){e.preventDefault(),a.close()}),notnull(a.onopen)&&a.onopen(),document.addEventListener("keydown",keyDown,!1)})}),!0},this.close=function(e){document.removeEventListener("keydown",keyDown,!1),a.$btClose.off(),a.$content.find(".bt").off(),notnull(e)?i.addClass("fadeOut").one(transitionEnd,function(){a.reset(),e()}):i.addClass("fadeOut").one(transitionEnd,function(e){t.removeClass("open").one(transitionEnd,function(e){a.reset()})})},this.reset=function(){a.$btClose.removeClass("navl").find("svg use").attr("xlink:href","#ic-close"),i.removeClass("fadeOut fadeIn"),""!=o&&i.removeClass(o),notnull(a.onclose)&&a.onclose(),a.onopen=null,a.onclose=null,a.$content.empty(),!1,n=null},this.canGoBack=function(e){a.$btClose.addClass("navl").find("svg use").attr("xlink:href","#ic-navl"),n=e},this.goBack=function(e){a.$btClose.off(),setTimeout(function(){a.close(n)},e)},this.construct()}function keyDown(e){e.key.toLowerCase();27==e.keyCode&&(e.preventDefault(),popup.isOpen()&&popup.$btClose.trigger("click"))}function NewsForm(e){var t=$('form[name="'+e+'"]'),i=t.find('select[name="select-role"]'),n=t.find('input[name="input-name"]'),a=t.find('input[name="input-email"]'),o=t.find('button[type="submit"]'),s=t.find(".form-msg"),l="",r="",c="",d=!1;function p(){s.removeClass("warning"),s.removeClass("success"),s.addClass("warning"),s.html(i18n.msg_unable_co_server),o.removeClass("btlocked spin"),o.find("svg use").attr("xlink:href","#ic-send"),d=!1}function u(e,t){switch(s.removeClass("warning"),s.removeClass("success"),e.code){case"deja":s.html(i18n.msg_registered_already),o.removeClass("btlocked spin"),d=!1;break;case"ok":s.addClass("success"),s.html(i18n.msg_registered_ok),o.removeClass("spin");break;default:s.addClass("warning"),s.html(i18n.msg_error_co_db),o.removeClass("btlocked spin"),d=!1}o.find("svg use").attr("xlink:href","#ic-send")}function v(e){e.addClass("invalid").one(animationEnd,function(t){e.removeClass("invalid")})}this.delete=function(){t.off(),null},t.on("submit",function(){d||(d=!0,l=trim(i.find(":selected").val()),r=trim(n.val()),c=trim(a.val()),""==l?(v(i.parent()),d=!1):r.length>2&&""!=r&&!regex.classic.test(r)?(n.val(ucwords(r.toLowerCase())),""!=c&&regex.email.test(c)?(a.val(c.toLowerCase()),o.addClass("btlocked spin"),o.find("svg use").attr("xlink:href","#ic-loader"),xhr("POST",domainPath+phpFolder+"news-subscribe.php",{role:l,name:r,address:c,lang:localStorage.lang},u,p)):(v(a.parent()),d=!1)):(v(n.parent()),d=!1))})}function ShareForm(e,t){var i=-1!=("object"==typeof t&&notnull(t.link)?domainOnline+"mix/"+t.link:domainOnline).indexOf("mix/"),n=$('form[name="'+e+'"]'),a=n.find('input[name="input-name"]'),o=n.find('input[name="input-email"]'),s=n.find('button[type="submit"]'),l=n.find(".form-msg"),r="",c="",d=!1;function p(){l.removeClass("warning"),l.removeClass("success"),l.addClass("warning"),l.html(i18n.msg_unable_co_server),s.removeClass("btlocked spin"),s.find("svg use").attr("xlink:href","#ic-send"),d=!1}function u(e){l.removeClass("warning"),l.removeClass("success"),"success"==e.state?(l.addClass("success"),i?l.html(i18n.mix_shared):l.html(i18n.msg_invitation_sent),s.removeClass("spin"),popup.goBack(1e3)):(l.addClass("warning"),l.html(i18n.msg_unable_send_mail),s.removeClass("btlocked spin"),d=!1),s.find("svg use").attr("xlink:href","#ic-send")}function v(e){e.addClass("invalid").one(animationEnd,function(t){e.removeClass("invalid")})}this.delete=function(){n.off(),null},n.on("submit",function(){if(!d)if(d=!0,r=trim(a.val()),c=trim(o.val()),r.length>2&&""!=r&&!regex.classic.test(r))if(a.val(ucwords(r.toLowerCase())),""!=c&&regex.email.test(c)){o.val(c.toLowerCase()),s.addClass("btlocked spin"),s.find("svg use").attr("xlink:href","#ic-loader");var e={expediteur:r,email:c,type:"invitation",lang:localStorage.lang};i&&(e.type="composition",e.djName=t.name,e.title=t.title,e.link=t.link),xhr("POST",domainPath+phpFolder+"send-mail.php",e,u,p)}else v(o.parent()),d=!1;else v(a.parent()),d=!1})}function Diaporama(e){var t=this;this.$div=$(e),this.$boxPoint=this.$div.find(".box-point"),this.$slideBox=this.$div.find(".slide-box"),this.$slides=this.$slideBox.find(".slide"),this.$navl=this.$div.find(".navl"),this.$navr=this.$div.find(".navr"),this.$title=this.$div.find(".box-title");var i=this.$div.hasClass("style-swipe")?"swipe":"",n=this.$div.hasClass("key-control"),a=this.$slides.length,o=0;function s(){var e=$(t.$slides[o]).find("img").attr("alt");t.$title.html(e).addClass("active")}"swipe"==i&&(this.$slideBox.children().each(function(e,i){t.$slideBox.prepend(i)}),t.$slideBox.last().find("img").one("load",function(){}),t.$slideBox.addClass("active"),t.$div.find(".bt.loader").remove()),this.getCurrentSlide=function(){return $(t.$slides[o])},this.enableNavigation=function(){t.$div.addClass("with-navigation");for(var e=0;e<a;e++)t.$boxPoint.append('<div class="point" data-num="'+e+'"><div class="bck"></div></div>');t.$navl.on(evtClick,t.clickLeft),t.$navr.on(evtClick,t.clickRight),t.$div.find(".point").on(evtClick,t.clickPoint),t.$points=this.$boxPoint.find(".point"),$(t.$points[o]).addClass("active"),"swipe"!=i&&$(t.$slides[o]).addClass("active").one(transitionEnd,function(){$(t.$slides[o]).addClass("enable")}),s()},this.clickRight=function(e){e.preventDefault();var n=$(t.$slides[o]),l=$(t.$points[o]),r=o+1;if((r=r>a-1?a-1:r)>o){t.$title.removeClass("active").one(transitionEnd,s);var c=$(t.$slides[r]),d=$(t.$points[r]);l.removeClass("active"),d.addClass("active"),"swipe"==i?(n.removeClass("comeToR").addClass("exitToL"),c.removeClass("exitToR").addClass("comeToR").one(animationEnd,function(){c.removeClass("comeToR")})):(n.removeClass("active enable"),c.addClass("active").one(transitionEnd,function(){c.addClass("enable")})),o=r}},this.clickLeft=function(e){e.preventDefault();var n=$(t.$slides[o]),a=$(t.$points[o]),l=o-1;if((l=l<0?0:l)<o){t.$title.removeClass("active").one(transitionEnd,s);var r=$(t.$slides[l]),c=$(t.$points[l]);a.removeClass("active"),c.addClass("active"),"swipe"==i?(n.addClass("exitToR"),r.removeClass("exitToL").addClass("comeToL").one(animationEnd,function(){r.removeClass("comeToL")})):(n.removeClass("active enable"),r.addClass("active").one(transitionEnd,function(){r.addClass("enable")})),o=l}},this.clickPoint=function(e){e.preventDefault();var i=parseInt($(this).attr("data-num"));if(o!=i){var n=Math.abs(o-i);if(i>o)for(;n>0;)n--,t.clickRight(e);else for(;n>0;)n--,t.clickLeft(e)}},this.clickRandomPoint=function(){var e=getRandomItem(t.$points);$(e).trigger(evtClick)};var l=0,r=0;function c(e){var t=notnull((e=~e.type.indexOf("touch")?e.originalEvent:e).targetTouches)?e.targetTouches[0]:e;l=t.pageX}function d(e){var t=notnull((e=~e.type.indexOf("touch")?e.originalEvent:e).targetTouches)?e.targetTouches[0]:e;r=t.pageX}function p(e){Math.abs(r-l)>40&&(r>l?t.clickLeft(e):t.clickRight(e))}this.enableGesture=function(){t.$slideBox.on(evtPress,c),t.$slideBox.on(evtMove,d),t.$slideBox.on(evtPressEnd,p)},a>1&&(this.enableNavigation(),"computer"!=machine.device&&this.enableGesture(),n&&$("body").keydown(function(e){t.$div.is(":visible")&&("ArrowRight"==e.key?t.$navr.trigger(evtClick):"ArrowLeft"==e.key&&t.$navl.trigger(evtClick))}))}function initNotifAlbum(){if(null===localStorage.getItem("album-new")){var e=$("#header-bt-album"),t=$(".bt-listen-album");e.addClass("notif"),t.on("click",function(){localStorage.setItem("album-new","1"),e.removeClass("notif"),e.off()})}}function checkabp(){fetch("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors",cache:"no-store"}).then(()=>{abpNotDetected()}).catch(()=>{abpDetected()})}function abpDetected(){var e=document.createElement("script");e.src=domainPath+"js/libs/jquery-hck.js",e.addEventListener("load",()=>{var e=jQueryHCK();e.querySelector("#btReloadHCK").addEventListener(evtClick,()=>{window.location.reload()}),iframe.document.body.appendChild(e,iframe.document.body.firstChild)}),document.head.appendChild(e),saveGA("popup_ABP","Adblock detected","open_popup")}function abpNotDetected(){}!function(e){e("body").addClass(machine.device),popup=new Popup("#box-pop"),e("body").hasClass("page-home")?initPageHome():e("body").hasClass("page-demo")?(window.addEventListener("resize",()=>{document.documentElement.style.setProperty("--window-height",`${window.innerHeight}px`)}),window.dispatchEvent(new Event("resize")),iframeLoader=new IframeLoaderObject("appiframe")):e("body").hasClass("page-mix")?initPageMix():e("body").hasClass("page-top50")?initPageTop50():e("body").hasClass("page-wallpaper")?initPageWallpaper():e("body").hasClass("page-flash")?initPageFlash():e("body").hasClass("page-info")&&initPageInfo(),loadLangSelect(),initResponsiveMenu(),e(".list-lang a[data-code="+document.documentElement.lang+"]").addClass("select")}(jQuery);